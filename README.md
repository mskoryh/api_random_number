# Установка

Установить зависимости с помощью composer:
```
composer install
```

# Использование

С помощью make запустить из директории с проектом:
```
make serve
```
это запустит встроенный в php веб сервер на `127.0.0.1:8080`

Или с помощью встроенного в php веб сервера из директории с проектом:
```
php -S 127.0.0.1:8080 -t public
```

## Формат ответа

Формат ответа от api, выглядит следующим образом:
```
{
    "status": "success",
    "data": {
        "id": 1,
        "number": 6
    }
}
```

или в случае ошибки:
```
{
    "status": "fail",
    "message": "Incorrect response"
}
```

где:
- `status` - присутствует всегда и указывает на успешность выполнения запроса
- `message` - краткое описание ошибки и присутствует, только когда `status` имеет значение `fail`
- `data` - присутствует при успешном выполнении запроса и содержит результат

## Методы

Реализовано два http метода:

`POST /api/v1/generate` - для генерации рандомного числа
В теле запроса можно передать параметры для установки границ генерации, н-р:
```
{
    "min": 5,
    "max": 10
}
```

Если параметры не переданы, то число будет генерироваться от 0 до `PHP_INT_MAX`
на текущей платформе. Так же можно передавать только одну из границ `min` или `max`.

В случае успешной обработки запроса метод вернёт json объект, вида:
```
{
    "status": "success",
    "data": {
        "id": 1,
        "number": 6
    }
}
```
где:
- `id` - идентификатор сгенерированного числа
- `number` - само число

`GET /api/v1/retrive/{id}` - получение ранее сгенерированного числа по id.
Структура ответа будет такой же как и на первый запрос.
